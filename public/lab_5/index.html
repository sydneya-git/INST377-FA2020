<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Sydney Anabaraonye's Lab 4</title>
    <link rel="stylesheet" href="styles.css">
  </head>

  <body>

   <div class= "header">
      <h1>Sydney Anabaraonye's Lab 4</h1>
    </div>
      
    <div class="container">
      <div class="wrapper">
        <form action="/api" method="post">
          <ul class="flex-outer">
            <li>
                <label for="fname">First Name</label>
                <input type="text" id="fname" name="fname" maxlength="140">
            </li>
            <li>
                <label for="lname">Last Name</label>
                <input type="text" id="lname" name="lname" maxlength="140">
            </li>
            <li>
              <label for="email">Email</label>
              <input type="email" id="email"name="email">
            </li>
            <li>
              <label for="phone">Phone</label>
              <input type="tel" id="phone" name="phone">
            </li>
            <li>
              <label for="message">Text field</label>
              <textarea rows="5" cols="33" id = "message" name="message" placeholder="This is some default message text"></textarea>
            </li>
            <li>
              <p class="checkbox-list-label">Age</p>
              <ul class="flex-inner">
                <li>
                  <input type="checkbox" id="twenty-to-twentynine" name="twenty-to-twentynine">
                  <label for="twenty-to-twentynine">18-35</label>
                </li>
                <li>
                  <input type="checkbox" id="thirty-to-thirtynine" name="thirty-to-thirtynine">
                  <label for="thirty-to-thirtynine">35-50</label>
                </li>
                <li>
                  <input type="checkbox" id="fourty-to-fourtynine" name="fourty-to-fourtynine">
                  <label for="fourty-to-fourtynine">50-65</label>
                </li>
              </ul>
            </li>
            <li>
              <button type="submit" id="submit" name="submit">Submit Form</button>
              <button type="button" name="activate" onclick="testFunction()">Activate</button>
            </li>
          </ul>
        </form>
      </div> 
    </div> 
    <script>
 function testFunction() {
                const Fruits = ["pineapple", "strawberry", "grapes"];
                let count = 0;
    
                fetch('/api')
                .then((response) => response.text())
                .then((response) => {
                    console.log(response);
    
    
                    document.querySelector("title").innerHTML = response;
                    document.querySelector("h1").innerHTML = response;
    
                    document.querySelector("body").style.backgroundColor = "#33C1FF";
    
                    document.querySelector(".flex-outer").style.margin = "0 auto";
    
                    document.querySelector(".checkbox-list-label").innerHTML = "Fruits";
                    document.querySelectorAll(".flex-inner > li > label").forEach(function(item){
                        item.innerHTML = Fruits[count];
                        count = count + 1;
                    })
    
                })                 
            }
    </script>
    </body>          
</html>
